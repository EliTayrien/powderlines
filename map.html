---
layout: map
title: Powderlines Map - The Pacific Northwest&rsquo;s best backcountry tours for this weekend
---
  
<div id="cesiumContainer"></div>

<script src="/assets/Cesium/Cesium.js"></script>
<script>
  Cesium.BingMapsApi.defaultKey = "AgRxdroanFbgogMNQ3HpvADZ2txGKmu1cTTRqlrAUSFLfbP38ZhuYKBSY1ZK0aHl";
  var viewer = new Cesium.Viewer('cesiumContainer', {
//    imageryProvider : new Cesium.OpenStreetMapImageryProvider(),
    animation       : false,
    homeButton      : false,
    timeline        : false,
    sceneModePicker : false,
    baseLayerPicker : false,
    terrainProvider : new Cesium.CesiumTerrainProvider({
        url : '//cesiumjs.org/tilesets/terrain/smallterrain'
    })
  });
  viewer.extend(Cesium.viewerEntityMixin);
  
  //viewer.scene.globe.depthTestAgainstTerrain = true;
  
  // how do i detect clicks on my polylines?
  Cesium.knockout.getObservable(viewer, 'selectedEntity').subscribe(function(entity) {
      if (entity !== undefined) {
           console.log(this, entity.id, entity.name, entity.description.getValue());
           //highlightedObject.material.uniforms.color.alpha = 0.75;
      }
  });

  var dataSource = new Cesium.GeoJsonDataSource();
  viewer.dataSources.add(dataSource);
  dataSource.loadUrl('/assets/gpx/ski-tours-complete.geojson');
  

  var camera = viewer.scene.camera;
  camera.lookAt(Cesium.Cartesian3.fromDegrees(-121.81263, 45, 300000),
  Cesium.Cartesian3.fromDegrees(-121.81263, 48.706652, 0), Cesium.Cartesian3.UNIT_Z);

</script>