{% include header.html %}
</head>
<body class="no-scroll">


<div class="map-view">
  <div class="right-panel">
    {{ content }}
  </div>
  <div id="tour-filter-form">
    <form class="nav-bar">
      <div class="logo-wrapper">
        <a href="/" class="logo-small">Powderlin.es</a>
      </div>
      <div class="search-bar">
        <input class="filter-text" type="text" placeholder="Search tours" data-bind="value: query, valueUpdate: 'keyup'" autocomplete="off"/>
      </div>
        
      <div class="filter-bar">
        <input type="text" placeholder="0" data-bind="value: minDistanceQuery, valueUpdate: 'keyup'" autocomplete="off"/>
        to
        <input type="text" placeholder="&#8734;" data-bind="value: maxDistanceQuery, valueUpdate: 'keyup'" autocomplete="off"/>
        miles
      </div>
    </form>
    <div class="left-panel loading">
      <div class="scroller">
        <div class="tour-count">Showing <span data-bind="text: filteredTours().length"></span> tours</div>
        <ul data-bind="foreach: filteredTours, visible: filteredTours().length > 0">
            <li data-bind="attr: {id: id }, event: {click: $parent.tourClick.bind($data, $index()), mouseover: $parent.tourMouseOver.bind($data, $index()), mouseout: $parent.tourMouseOut.bind($data, $index()) }">
              <span data-bind="text: name"></span>
              <span class="distance" data-bind="text: formattedDistance"></span>
              <div class="expanded-data">
                <p>Description: <span data-bind="text: description"></span></p>
              </div>
            </li> 
        </ul>
      </div>
    </div>
    <div class="map-footer">
      Routes plotted by <a href="http://www.erikhenne.com/" target="_blank">Erik Henne</a>. Route paths are rough estimations. Rotate map using the control key.
    </div>
  </div>
</div>

<script src="/assets/js/main.js"></script>
<script src="/assets/Cesium/Cesium.js"></script>
<script src="/assets/js/uber-map.js"></script>
{% include footer.html %}